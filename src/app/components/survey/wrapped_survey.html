<div>
  <div class="page-wrap mt15" ng-if="ctrl.survey">
    <div class="row">
      <div class="col-sm-12">
        <h3 class="survey-title mt0">
          <span class="title">{{ ctrl.survey.title }}</span>
          <div class="select-wrapper" ng-if="ctrl.surveyList.surveys.length > 0">
            <ui-select ng-model="ctrl.selectedSurvey"
                       search-enabled="true"
                       theme="bootstrap"
                       ng-change="ctrl.surveySelected(ctrl.selectedSurvey)">
              <ui-select-match placeholder="{{ ctrl.surveyList.surveys.length }} surveys to complete">{{$select.selected.title}}</ui-select-match>
              <ui-select-choices repeat="survey in ctrl.surveyList.surveys | filter: $select.search track by survey.id">
                <div ng-bind-html="survey.title"></div>
              </ui-select-choices>
            </ui-select>
          </div>
        </h3>
      </div>
    </div>

    <div class="row mt15 mb15">
      <div ng-class="{ 'col-sm-9': !ctrl.survey.completed, 'col-sm-10': ctrl.survey.completed }">
        <survey survey="ctrl.survey" reviewing="ctrl.reviewing"></survey>
      </div>

      <div class="col-sm-3" ng-if="!ctrl.survey.completed">
        <div class="panel panel-success">
          <div class="panel-heading">
            <i>
              Quick Notes
            </i>
          </div>

          <ul class="list-group">
            <li class="list-group-item" ng-repeat="note in ctrl.quickNoteList.notes">
              {{ note.content }}
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <empty-state icon="fa-thumbs-up" text="Nice, you're all caught up!" ng-if="ctrl.survey === false"></empty-state>
</div>
